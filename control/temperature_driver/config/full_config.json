{
  "settings": {
    "driver": {
      "initial_state": "off",
      "name": "temperature_control"
    },
    "mqtt": {
      "username": "ttfoley",
      "password": "password",
      "broker": "192.168.1.17",
      "port": 1883,
      "client_id": "temperature_control_driver"
    },
    "governor": {
      "name": "temperature_governor",
      "addr": "mush/governors/temperature_governor"
    },
    "points": {
      "publish": {
        "default_retry_interval": 5,
        "default_republish_frequency": 60,
        "point_types": {
          "state": {
            "retry_interval": 2,
            "republish_frequency": 60
          },
          "state_time": {
            "retry_interval": 2,
            "republish_frequency": 5
          },
          "control_points": {
            "retry_interval": 5,
            "republish_frequency": 30
          }
        }
      }
    }
  },
  "states": {
    "off": [
      {
        "control_point": {
          "controller": "C2",
          "name": "CP_26"
        },
        "value": "off"
      }
    ],
    "on": [
      {
        "control_point": {
          "controller": "C2",
          "name": "CP_26"
        },
        "value": "on"
      }
    ]
  },
  "transitions": {
    "Transitions": {
      "unknown": {
        "off": {
          "constraint_groups": [
            {
              "id": 0,
              "constraints": [
                {
                  "definition": {
                    "id": 0,
                    "value_uuid": 19,
                    "comparand": 0,
                    "comparator": ">=",
                    "units": "float"
                  },
                  "description": "state_time constraint for state time",
                  "type": "state_time"
                }
              ],
              "description": "Turn off immediately if unknown",
              "priority": 0
            }
          ]
        }
      },
      "off": {
        "on": {
          "constraint_groups": [
            {
              "id": 0,
              "constraints": [
                {
                  "definition": {
                    "id": 0,
                    "value_uuid": 19,
                    "comparand": 5,
                    "comparator": ">=",
                    "units": "float"
                  },
                  "description": "state_time constraint for state time",
                  "type": "state_time"
                },
                {
                  "definition": {
                    "id": 1,
                    "value_uuid": 20,
                    "comparand": "on",
                    "comparator": "==",
                    "units": "str"
                  },
                  "description": "discrete_value constraint for Command to enter on state",
                  "type": "discrete_value"
                }
              ],
              "description": "Governor commanded transition from off to on",
              "priority": 0
            }
          ]
        }
      },
      "on": {
        "off": {
          "constraint_groups": [
            {
              "id": 0,
              "constraints": [
                {
                  "definition": {
                    "id": 0,
                    "value_uuid": 19,
                    "comparand": 5,
                    "comparator": ">=",
                    "units": "float"
                  },
                  "description": "state_time constraint for state time",
                  "type": "state_time"
                },
                {
                  "definition": {
                    "id": 1,
                    "value_uuid": 20,
                    "comparand": "off",
                    "comparator": "==",
                    "units": "str"
                  },
                  "description": "discrete_value constraint for Command to enter off state",
                  "type": "discrete_value"
                }
              ],
              "description": "Governor commanded transition from on to off",
              "priority": 0
            }
          ]
        }
      }
    }
  },
  "points": {
    "microcontrollers": {
      "C1": {
        "sensors": {
          "sht_0": {
            "temperature": {
              "addr": "mush/controllers/C1/sensors/sht_0/temperature",
              "valid_range": {
                "lower": 0,
                "upper": 100
              },
              "UUID": 0
            },
            "humidity": {
              "addr": "mush/controllers/C1/sensors/sht_0/humidity",
              "valid_range": {
                "lower": 0,
                "upper": 100
              },
              "UUID": 1
            }
          },
          "dht_0": {
            "temperature": {
              "addr": "mush/controllers/C1/sensors/dht_0/temperature",
              "valid_range": {
                "lower": 0,
                "upper": 100
              },
              "UUID": 2
            },
            "humidity": {
              "addr": "mush/controllers/C1/sensors/dht_0/humidity",
              "valid_range": {
                "lower": 0,
                "upper": 100
              },
              "UUID": 3
            }
          },
          "scd_0": {
            "temperature": {
              "addr": "mush/controllers/C1/sensors/scd_0/temperature",
              "valid_range": {
                "lower": 0,
                "upper": 100
              },
              "UUID": 4
            },
            "humidity": {
              "addr": "mush/controllers/C1/sensors/scd_0/humidity",
              "valid_range": {
                "lower": 0,
                "upper": 100
              },
              "UUID": 5
            },
            "co2": {
              "addr": "mush/controllers/C1/sensors/scd_0/co2",
              "valid_range": {
                "lower": 0,
                "upper": 10000
              },
              "UUID": 6
            }
          }
        }
      },
      "C2": {
        "sensors": {
          "status": {
            "wifi_uptime": {
              "addr": "mush/controllers/C2/sensors/status/wifi_uptime",
              "valid_range": {
                "lower": 0,
                "upper": 1000000
              },
              "UUID": 7
            }
          }
        },
        "control_points": {
          "CP_25": {
            "description": "Humidifier",
            "readback": {
              "addr": "mush/controllers/C2/control_points/CP_25/readback",
              "UUID": 8,
              "value_type": "str",
              "raw_value_type": [
                "str",
                "int"
              ],
              "value_mapper": {
                "-1": "off",
                "1": "on",
                "0": "unknown"
              },
              "valid_values": [
                "unknown",
                "on",
                "off"
              ]
            },
            "write": {
              "addr": "mush/controllers/C2/control_points/CP_25/write",
              "UUID": 9,
              "valid_values": [
                "on",
                "off"
              ],
              "value_type": "str",
              "raw_value_type": [
                "str",
                "str"
              ]
            }
          },
          "CP_26": {
            "description": "HeatingPad",
            "readback": {
              "addr": "mush/controllers/C2/control_points/CP_26/readback",
              "UUID": 10,
              "value_type": "str",
              "raw_value_type": [
                "str",
                "int"
              ],
              "value_mapper": {
                "-1": "off",
                "1": "on",
                "0": "unknown"
              },
              "valid_values": [
                "unknown",
                "on",
                "off"
              ]
            },
            "write": {
              "addr": "mush/controllers/C2/control_points/CP_26/write",
              "UUID": 11,
              "valid_values": [
                "on",
                "off"
              ],
              "value_type": "str",
              "raw_value_type": [
                "str",
                "str"
              ]
            }
          },
          "CP_32": {
            "description": "Light",
            "readback": {
              "addr": "mush/controllers/C2/control_points/CP_32/readback",
              "UUID": 12,
              "value_type": "str",
              "raw_value_type": [
                "str",
                "int"
              ],
              "value_mapper": {
                "-1": "off",
                "1": "on",
                "0": "unknown"
              },
              "valid_values": [
                "unknown",
                "on",
                "off"
              ]
            },
            "write": {
              "addr": "mush/controllers/C2/control_points/CP_32/write",
              "UUID": 13,
              "valid_values": [
                "on",
                "off"
              ],
              "value_type": "str",
              "raw_value_type": [
                "str",
                "str"
              ]
            }
          },
          "CP_33": {
            "description": "VentFan",
            "readback": {
              "addr": "mush/controllers/C2/control_points/CP_33/readback",
              "UUID": 14,
              "value_type": "str",
              "raw_value_type": [
                "str",
                "int"
              ],
              "value_mapper": {
                "-1": "off",
                "1": "on",
                "0": "unknown"
              },
              "valid_values": [
                "unknown",
                "on",
                "off"
              ]
            },
            "write": {
              "addr": "mush/controllers/C2/control_points/CP_33/write",
              "UUID": 15,
              "valid_values": [
                "on",
                "off"
              ],
              "value_type": "str",
              "raw_value_type": [
                "str",
                "str"
              ]
            }
          },
          "led1": {
            "description": "Status_LED",
            "readback": {
              "addr": "mush/controllers/C2/control_points/led1/readback",
              "UUID": 16,
              "value_type": "str",
              "raw_value_type": [
                "str",
                "int"
              ],
              "value_mapper": {
                "-1": "off",
                "1": "on",
                "0": "unknown"
              },
              "valid_values": [
                "unknown",
                "on",
                "off"
              ]
            },
            "write": {
              "addr": "mush/controllers/C2/control_points/led1/write",
              "UUID": 17,
              "valid_values": [
                "on",
                "off"
              ],
              "value_type": "str",
              "raw_value_type": [
                "str",
                "str"
              ]
            }
          }
        }
      }
    },
    "drivers": {
      "temperature_control": {
        "sensors": {
          "status": {
            "state": {
              "addr": "mush/drivers/temperature_control/sensors/status/state",
              "UUID": 18,
              "value_type": "discrete",
              "valid_values": [
                "off",
                "on",
                "unknown"
              ],
              "description": "driver state"
            },
            "time_in_state": {
              "addr": "mush/drivers/temperature_control/sensors/status/state_time",
              "UUID": 19,
              "value_type": "continuous",
              "valid_range": {
                "lower": 0,
                "upper": 1000000
              },
              "description": "state time"
            }
          }
        }
      }
    },
    "governors": {
      "temperature_governor": {
        "commands": {
          "state": {
            "addr": "mush/governors/temperature_governor/commands/state",
            "UUID": 20,
            "value_type": "str",
            "valid_values": [
              "off",
              "on"
            ],
            "description": "commanded state"
          }
        }
      }
    }
  }
}